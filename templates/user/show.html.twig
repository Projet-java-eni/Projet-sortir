{% extends 'base.html.twig' %}

{% block title %}User{% endblock %}

{% block body %}
    <h1>
        {{ user.userIdentifier }}
        {% if 'ROLE_ADMIN' in user.roles %}
            ⚔
        {%  endif %}
    </h1>

    <table class="table">
        <tbody>
            <tr>
                <th>Id</th>
                <td>{{ user.id }}</td>
            </tr>
            <tr>
                <th>Email</th>
                <td>{{ user.email }}</td>
            </tr>
            <tr>
                <th>Nom de famille</th>
                <td>{{ user.familyName }}</td>
            </tr>
            <tr>
                <th>Prenom</th>
                <td>{{ user.firstName }}</td>
            </tr>
            <tr>
                <th>Telephone</th>
                <td>{{ user.telephone }}</td>
            </tr>
            <tr>
                <th>Est actif</th>
                <td>{{ user.isActive ? 'Yes' : 'No' }}</td>
            </tr>
        </tbody>
    </table>

    <a href="{{ path('user_index') }}" class="btn btn-secondary">Retour à la liste</a>

    {% if is_granted('ROLE_ADMIN') or app.user.id == user.id %}
    <a href="{{ path('user_edit', {'id': user.id}) }}"  class="btn btn-primary">Modifier</a>
    {% endif %}

    {% if is_granted('ROLE_ADMIN') %}
    {{ include('user/_delete_form.html.twig') }}
    {% endif %}
{% endblock %}
